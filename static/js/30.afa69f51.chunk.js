"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[30],{7341:function(e,t,n){var r=n(5671),c=n(3144),i=n(136),s=n(7277),a=n(2791),o=n(2253),l=n(184),u=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return(0,c.Z)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,l.jsx)(o.Z,{}):this.props.children}}]),n}(a.Component);t.Z=u},1748:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(4270),c=n(4063),i=n(7341),s=n(3433),a=n(9439),o=n(2791),l=n(1087),u=n(4304),m=n(3394),d=n(2253),h=n(184),f=function(e,t,n){switch(e){case"waiting":return(0,h.jsx)(m.Z,{});case"loading":return n?(0,h.jsx)(t,{}):(0,h.jsx)(m.Z,{});case"confirmed":return(0,h.jsx)(t,{});case"error":return(0,h.jsx)(d.Z,{});default:throw new Error("Unexpected process state")}},j=function(){var e=(0,o.useState)([]),t=(0,a.Z)(e,2),n=t[0],r=t[1],c=(0,o.useState)(!1),i=(0,a.Z)(c,2),m=i[0],d=i[1],j=(0,o.useState)(0),x=(0,a.Z)(j,2),p=x[0],v=x[1],Z=(0,o.useState)(!1),g=(0,a.Z)(Z,2),_=g[0],b=g[1],k=(0,u.Z)(),w=k.process,N=k.setProcess,y=k.getAllComics;(0,o.useEffect)((function(){C(p,!0)}),[]);var C=function(e,t){d(!t),y(e).then(S).then((function(){return N("confirmed")}))},S=function(e){var t=!1;e.length<8&&(t=!0),r((function(t){return[].concat((0,s.Z)(t),(0,s.Z)(e))})),d(!1),v((function(e){return e+8})),b(t)};return(0,h.jsxs)("div",{className:"comics__list",children:[f(w,(function(){return function(e){var t=e.map((function(e,t){var n=e.thumbnail,r=e.title,c=e.price,i=e.id,s="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===n?{objectFit:"fill"}:{objectFit:"cover"};return(0,h.jsx)("li",{className:"comics__item",children:(0,h.jsxs)(l.rU,{to:"/comics/".concat(i),children:[(0,h.jsx)("img",{src:n,alt:"title",className:"comics__item-img",style:s}),(0,h.jsx)("div",{className:"comics__item-name",children:r}),(0,h.jsx)("div",{className:"comics__item-price",children:c})]})},t)}));return(0,h.jsx)("ul",{className:"comics__grid",children:t})}(n)}),m),(0,h.jsx)("button",{className:"button button_main button_long",disabled:m,style:{display:_?"none":"block"},onClick:function(){return C(p)},children:(0,h.jsx)("div",{className:"inner",children:"load more"})})]})},x=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(r.q,{children:[(0,h.jsx)("meta",{name:"description",content:"Page with list of our comics"}),(0,h.jsx)("title",{children:"Comics page"})]}),(0,h.jsx)(c.Z,{}),(0,h.jsx)(i.Z,{children:(0,h.jsx)(j,{})})]})}}}]);
//# sourceMappingURL=30.afa69f51.chunk.js.map